function put_marker(a,b){geocoder.geocode({address:a},function(a,c){if(a.length!==0){var d=a[0].geometry.location;temp.setMap(map),temp.setPosition(d),b&&b.val(point_to_coords(d)),map.getBounds().contains(d)||map.setCenter(d)}else temp.setMap(null)})}var map,base_height,temp=new google.maps.Marker,geocoder=new google.maps.Geocoder,current;$(function(){var a={zoom:7,mapTypeId:google.maps.MapTypeId.ROADMAP,center:coords_to_google_point(craigslist.coords)};map=new google.maps.Map(document.getElementById("map_canvas"),a),current=new Craigslist(craigslist),current.marker.setOptions({draggable:!0}),new google.maps.event.addListener(current.marker,"dragend",function(){$("#craigslist_coords").val(point_to_coords(current.marker.getPosition()))}),put_marker(current.raw.city+", "+current.raw.state,$("#craigslist_coords"))})