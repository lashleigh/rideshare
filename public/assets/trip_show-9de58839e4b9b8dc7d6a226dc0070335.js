$(function(){function b(b,c){var d=b,e=$(this),f=e.attr("id"),g=$.ajax({url:"/trips/update_trip_options",type:"POST",data:{id:trip.id,nested:"trip_options",type:f,value:b,authenticity_token:a},dataType:"json",success:function(a,b,c){e.removeClass("unused_val"),console.log("success")},error:function(a,b,c){console.log(a,b,c)}});return ops[f]?d=ops[f][b]:f==="cost"&&(b=b.replace(/\$/g,""),b==b*1?d="$"+parseFloat(b).toFixed(2):d=this.revert),console.log(g),d}var a=$("head meta")[1].content;$(".edit_summary").editable("/trips/update_summary",{placeholder:"Click here to write a summary of your trip",id:"type",name:"value",cssclass:"edit_summary",type:"textarea",submit:"OK",indicator:"Saving...",submitdata:{id:trip.id,authenticity_token:a}}),$(".edit_trip_options").each(function(){var a=ops[$(this).attr("id")];a===undefined?$(this).editable(b,{id:"type",name:"value",type:"text",submit:"OK",indicator:"Saving...",submitdata:{id:trip.id,nested:"trip_options"}}):$(this).editable(b,{id:"type",name:"value",type:"select",submit:"OK",indicator:"Saving...",data:a,submitdata:{id:trip.id,nested:"trip_options"}})})})