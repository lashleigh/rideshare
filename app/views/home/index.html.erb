<script type="text/javascript">
  var origin_auto = <%=Trip.all.map{|t| t.origin}.uniq.sort.to_json.html_safe%>; 
  var finish_auto = <%=Trip.all.map{|t| t.destination}.uniq.sort.to_json.html_safe%>; 

  $(function() {
    $("#origin").autocomplete({
      source: origin_auto,
      minLength: 0,
      delay: 600
    });
    $("#destination").autocomplete({
      source: finish_auto,
      minLength: 0,
      delay: 600
    });
  })
</script>
<%= form_tag( :action => 'show') do %>
  <% if flash[:error] %>
    <p class="error"><%= flash[:error] %></p>
  <% end %>

  Search for trips starting near
  <%= text_field_tag 'origin', nil, :placeholder => 'Seattle, WA' %>
  and ending in 
  <%= text_field_tag 'destination', nil, :placeholder => 'New York, NY' %>
  <%= submit_tag 'Search', :id => 'home_search' %>
<% end %>

